{% extends "airflow/main.html" %}

{% block content %}
<!--
https://pro.fontawesome.com/releases/v5.10.0/css/all.css
-->
<script
  type="text/javascript"
  src="https://visjs.github.io/vis-network/standalone/umd/vis-network.min.js"
></script>

<style type="text/css">
  #dvc_diagram {
    width: 100%;
    height: 400px;
    border: 1px solid lightgray;
  }
</style>
<script type="text/javascript">
(function(){
    var link = document.createElement( "link" );
    link.href = "https://pro.fontawesome.com/releases/v5.10.0/css/all.css";
    link.type = "text/css";
    link.rel = "stylesheet";

    document.getElementsByTagName( "head" )[0].appendChild( link );
})();
</script>
<div class="dags-table-wrap">
      <div class="row dags-table-header">
        <div class="col-md-4">
          <div class="form-group btn-group">

          </div>
        </div>
      <div class="tooltip fade bottom" role="tooltip" id="tooltip6256" style="top: 0px; left: 0px; display: block;"><div class="tooltip-arrow"></div><div class="tooltip-inner">Show only paused DAGS</div></div><div class="tooltip fade bottom" role="tooltip" id="tooltip567089" style="top: 0px; left: 0px; display: block;"><div class="tooltip-arrow"></div><div class="tooltip-inner">Another tutorial DAG</div></div><div class="tooltip fade bottom" role="tooltip" id="tooltip561287" style="top: 0px; left: 0px; display: block;"><div class="tooltip-arrow"></div><div class="tooltip-inner">Show active and paused DAGS</div></div><div class="tooltip fade bottom" role="tooltip" id="tooltip70662" style="top: 0px; left: 0px; display: block;"><div class="tooltip-arrow"></div><div class="tooltip-inner">Show only active DAGS</div></div><div class="tooltip fade bottom" role="tooltip" id="tooltip457893" style="top: 0px; left: 0px; display: block;"><div class="tooltip-arrow" style="left: 50%;"></div><div class="tooltip-inner">Show only paused DAGS</div></div></div>
      <div class="dags-table-body">
        <table class="table table-striped table-bordered table-hover">
          <thead>
            <tr>
              <th>Repo</th>
              <th>DAG</th>
              <th>Message</th>
              <th>Date</th>
              <th>Files</th>
              <th>Commit</th>
            </tr>
          </thead>
          <tbody>
            {% for commit in all_commits %}
                <tr>
                    <td>
                        <a href="{{ commit.dvc_repo }}" title="">
                            <strong>
                                {{ commit.dvc_repo_name }}
                            </strong>
                        </a>
                    </td>
                    <td>
                        <a href="/code?dag_id={{ commit.dag.dag_id }}">
                            {{ commit.dag.dag_id }}
                        </a>
                    </td>
                    <td>
                        {{ commit.message }}
                    </td>
                    <td>
                        {{ commit.date }}
                    </td>
                    <td>
                        <ul>
                            {% for file in commit.files %}
                                <li>
                                    {{ file }}
                                </li>
                            {% endfor %}
                        </ul>
                    </td>

                    <td>
                        <a href="{{ commit.commit_url }}" title="">
                            {{ commit.sha }}
                        </a>
                    </td>
                </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
{% endblock %}
